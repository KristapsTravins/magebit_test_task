{"ast":null,"code":"var _jsxFileName = \"/home/pc/Desktop/Work/Magebit/magebit_test_task/front/Subscribtion/src/components/SendSub.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from 'react';\nimport LinkButtons from './LinkButtons';\nimport { useForm } from \"react-hook-form\";\nimport { SendDb } from '../api/apiCall';\nimport { StateContext } from './MainBlock';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SendSub = () => {\n  _s();\n\n  const {\n    isSub,\n    setSub\n  } = useContext(StateContext); // validation\n\n  const {\n    register,\n    formState: {\n      errors\n    },\n    handleSubmit\n  } = useForm({\n    criteriaMode: \"all\"\n  });\n\n  const onSubmit = data => {\n    SendDb(data);\n    setSub(!isSub);\n  };\n\n  const isCo = val => {\n    let str = \"\";\n\n    for (let i = val.length - 1; i > 0; i--) {\n      str += val[i];\n\n      if (str === \"oc.\") {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text_box\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text_main\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Subscribe to newsletter\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text_secondary\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Subscribe to our newsletter and get 10% discount on pineapple glasses.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 8\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form_box\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onSubmit),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form_inner\",\n          id: \"email_input\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"email\",\n            ...register(\"email\", {\n              validate: {\n                isValidEmail: email => /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email),\n                containsCo: value => {\n                  return isCo(value);\n                },\n                minChars: value => {\n                  return value.length > 10;\n                }\n              }\n            }),\n            placeholder: \"Enter your email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input_button\",\n            style: {\n              cursor: \"pointer\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"24\",\n                height: \"14\",\n                viewBox: \"0 0 24 14\",\n                fill: \"none\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  opacity: \"0.3\",\n                  d: \"M17.7071 0.2929C17.3166 -0.0976334 16.6834 -0.0976334 16.2929 0.2929C15.9023 0.683403 15.9023 1.31658 16.2929 1.70708L20.5858 5.99999H1C0.447693 5.99999 0 6.44772 0 6.99999C0 7.55227 0.447693 7.99999 1 7.99999H20.5858L16.2929 12.2929C15.9023 12.6834 15.9023 13.3166 16.2929 13.7071C16.6834 14.0976 17.3166 14.0976 17.7071 13.7071L23.7071 7.70708C24.0977 7.31658 24.0977 6.6834 23.7071 6.2929L17.7071 0.2929Z\",\n                  fill: \"#131821\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 53,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }, this), errors.email && errors.email.type === \"containsCo\" && /*#__PURE__*/_jsxDEV(\"p\", {\n          id: \"err\",\n          children: \"We dont accept .co domains\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 68\n        }, this), errors.email && errors.email.type === \"isValidEmail\" && /*#__PURE__*/_jsxDEV(\"p\", {\n          id: \"err\",\n          children: \"You must enter email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 70\n        }, this), errors.email && errors.email.type === \"minChars\" && /*#__PURE__*/_jsxDEV(\"p\", {\n          id: \"err\",\n          children: \"Email must be longer than 10 characters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 66\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"check_box\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            id: \"terms_and_conditions\",\n            name: \"terms_and_conditions\",\n            value: \"accept\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"terms_and_conditions\",\n            id: \"terms_text\",\n            children: [\" I agree to \", /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/\",\n              children: \"terms of service\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 76\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LinkButtons, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 8\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SendSub, \"YJbufcCVLBy4qqoQDjRDyD5ITqo=\", false, function () {\n  return [useForm];\n});\n\n_c = SendSub;\nexport default SendSub;\n\nvar _c;\n\n$RefreshReg$(_c, \"SendSub\");","map":{"version":3,"sources":["/home/pc/Desktop/Work/Magebit/magebit_test_task/front/Subscribtion/src/components/SendSub.js"],"names":["React","useContext","LinkButtons","useForm","SendDb","StateContext","SendSub","isSub","setSub","register","formState","errors","handleSubmit","criteriaMode","onSubmit","data","isCo","val","str","i","length","validate","isValidEmail","email","test","containsCo","value","minChars","cursor","type"],"mappings":"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","sourcesContent":["import React,{useContext} from 'react';\nimport LinkButtons from './LinkButtons';\nimport { useForm } from \"react-hook-form\";\nimport { SendDb } from '../api/apiCall';\nimport { StateContext } from './MainBlock';\n\n\n\n\nconst SendSub = () => {\nconst {isSub,setSub} = useContext(StateContext);\n// validation\nconst { register, formState:{errors}, handleSubmit } = useForm({criteriaMode: \"all\"});\n  const onSubmit = (data) => {\n    SendDb(data);\n    \n    setSub(!isSub);\n  };\n\n    const isCo = (val) =>{\n        let str = \"\";\n      for(let i = val.length-1;i>0;i--){\n          str += val[i];\n          if(str === \"oc.\"){\n              return false\n          }\n      }\n      return true\n    }\n    return (\n        <div className=\"text_box\">\n        <div className=\"text_main\">\n        <h1>Subscribe to newsletter</h1>\n        </div>\n       <div className=\"text_secondary\">\n       <h2>Subscribe to our newsletter and get 10% discount on pineapple glasses.</h2>\n       </div>\n       <div className=\"form_box\">\n        <form onSubmit={handleSubmit(onSubmit)}>\n            <div className=\"form_inner\" id=\"email_input\">\n                <input name=\"email\" {...register(\"email\",{\n                    validate:{\n                        isValidEmail:email =>\n                        /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(\n                          email\n                        ),\n                    containsCo:value=>{return isCo(value)},\n                    minChars:value=>{return value.length > 10 }\n                }})} placeholder=\"Enter your email\" />\n                <div className=\"input_button\"  style={{cursor:\"pointer\"}} >\n                        <button>\n                    <svg  width=\"24\" height=\"14\" viewBox=\"0 0 24 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path opacity=\"0.3\" d=\"M17.7071 0.2929C17.3166 -0.0976334 16.6834 -0.0976334 16.2929 0.2929C15.9023 0.683403 15.9023 1.31658 16.2929 1.70708L20.5858 5.99999H1C0.447693 5.99999 0 6.44772 0 6.99999C0 7.55227 0.447693 7.99999 1 7.99999H20.5858L16.2929 12.2929C15.9023 12.6834 15.9023 13.3166 16.2929 13.7071C16.6834 14.0976 17.3166 14.0976 17.7071 13.7071L23.7071 7.70708C24.0977 7.31658 24.0977 6.6834 23.7071 6.2929L17.7071 0.2929Z\" fill=\"#131821\"/>\n                    </svg>\n                        </button>\n                </div>\n            </div>\n            {errors.email && errors.email.type === \"containsCo\" && <p id=\"err\">We dont accept .co domains</p>}\n            {errors.email && errors.email.type === \"isValidEmail\" && <p id=\"err\">You must enter email</p>}\n            {errors.email && errors.email.type === \"minChars\" && <p id=\"err\">Email must be longer than 10 characters</p>}\n            <div className=\"check_box\">\n            <input type=\"checkbox\" id=\"terms_and_conditions\" name=\"terms_and_conditions\" value=\"accept\" required/>\n            <label for=\"terms_and_conditions\" id=\"terms_text\" > I agree to <a href=\"/\">terms of service</a></label>\n            </div>\n        </form>\n    <LinkButtons />\n    </div>\n    </div>\n    )\n}\n\nexport default SendSub\n"]},"metadata":{},"sourceType":"module"}